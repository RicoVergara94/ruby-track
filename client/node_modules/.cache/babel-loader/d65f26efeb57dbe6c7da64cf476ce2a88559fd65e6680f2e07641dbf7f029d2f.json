{"ast":null,"code":"var _jsxFileName = \"/Users/sashanksingh/Desktop/Headstarter/Spend-Ruby/ruby-track/client/src/components/SpendingCategories.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { Typography, Paper } from '@mui/material';\nimport { Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend);\nconst SpendingCategories = ({\n  transactions\n}) => {\n  _s();\n  const chartRef = useRef(null);\n  const totalIncome = transactions.filter(transaction => transaction.category === 'Income').reduce((sum, transaction) => sum + transaction.amount, 0);\n  const totalExpenses = transactions.filter(transaction => transaction.amount < 0).reduce((sum, transaction) => sum + -transaction.amount, 0);\n  const salaryLeft = totalIncome - totalExpenses;\n  const categoryData = transactions.reduce((categories, transaction) => {\n    if (transaction.category !== 'Income') {\n      categories[transaction.category] = (categories[transaction.category] || 0) + -transaction.amount;\n    }\n    return categories;\n  }, {});\n  if (Object.keys(categoryData).length === 0) {\n    categoryData['Salary Left'] = salaryLeft;\n  }\n  const data = {\n    labels: [...Object.keys(categoryData), ...(salaryLeft > 0 ? ['Salary Left'] : [])],\n    datasets: [{\n      data: [...Object.values(categoryData), ...(salaryLeft > 0 ? [salaryLeft] : [])],\n      backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4CAF50'],\n      hoverBackgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4CAF50']\n    }]\n  };\n  useEffect(() => {\n    if (chartRef.current) {\n      chartRef.current.destroy();\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    style: {\n      padding: '20px',\n      marginBottom: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"Spending Categories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pie, {\n      ref: chartRef,\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(SpendingCategories, \"X+1SfQQ6xefXNU27aQW843M7cTw=\");\n_c = SpendingCategories;\nexport default SpendingCategories;\nvar _c;\n$RefreshReg$(_c, \"SpendingCategories\");","map":{"version":3,"names":["React","useEffect","useRef","Typography","Paper","Pie","Chart","ChartJS","ArcElement","Tooltip","Legend","jsxDEV","_jsxDEV","register","SpendingCategories","transactions","_s","chartRef","totalIncome","filter","transaction","category","reduce","sum","amount","totalExpenses","salaryLeft","categoryData","categories","Object","keys","length","data","labels","datasets","values","backgroundColor","hoverBackgroundColor","current","destroy","elevation","style","padding","marginBottom","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","ref","_c","$RefreshReg$"],"sources":["/Users/sashanksingh/Desktop/Headstarter/Spend-Ruby/ruby-track/client/src/components/SpendingCategories.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Typography, Paper } from '@mui/material';\nimport { Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst SpendingCategories = ({ transactions }) => {\n  const chartRef = useRef(null);\n\n  const totalIncome = transactions\n    .filter(transaction => transaction.category === 'Income')\n    .reduce((sum, transaction) => sum + transaction.amount, 0);\n\n  const totalExpenses = transactions\n    .filter(transaction => transaction.amount < 0)\n    .reduce((sum, transaction) => sum + (-transaction.amount), 0);\n\n  const salaryLeft = totalIncome - totalExpenses;\n\n  const categoryData = transactions.reduce((categories, transaction) => {\n    if (transaction.category !== 'Income') {\n      categories[transaction.category] = (categories[transaction.category] || 0) + (-transaction.amount);\n    }\n    return categories;\n  }, {});\n\n  if (Object.keys(categoryData).length === 0) {\n    categoryData['Salary Left'] = salaryLeft;\n  }\n\n  const data = {\n    labels: [...Object.keys(categoryData), ...(salaryLeft > 0 ? ['Salary Left'] : [])],\n    datasets: [\n      {\n        data: [...Object.values(categoryData), ...(salaryLeft > 0 ? [salaryLeft] : [])],\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4CAF50'],\n        hoverBackgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4CAF50'],\n      },\n    ],\n  };\n\n  useEffect(() => {\n    if (chartRef.current) {\n      chartRef.current.destroy();\n    }\n  }, []);\n\n  return (\n    <Paper elevation={3} style={{ padding: '20px', marginBottom: '20px' }}>\n      <Typography variant=\"h6\" gutterBottom>\n        Spending Categories\n      </Typography>\n      <Pie ref={chartRef} data={data} />\n    </Paper>\n  );\n};\n\nexport default SpendingCategories;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}